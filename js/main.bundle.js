"use strict";(self.webpackChunkgql_editor=self.webpackChunkgql_editor||[]).push([[792],{168:(e,t,a)=>{var n=a(540),r=a(338),s=a(468),l=a(38);const i={IDLE:"IDLE",FETCHING:"FETCHING",INITIALIZING:"INITIALIZING",PARSING:"PARSING"},c=(0,l.Z0)({name:"editor",initialState:{state:i.IDLE,value:"MATCH (p:Person)-[:LIVES_IN]->(c:City) RETURN p"},reducers:{setValue:(e,t)=>({...e,value:t.payload}),setState:(e,t)=>({...e,state:t.payload})}}),o=c.actions,d=c.reducer,m=(0,l.Z0)({name:"caret-data",initialState:{position:{x:0,y:0},index:0,nextIndex:-1},reducers:{update:(e,t)=>{let{payload:a}=t;const n=a.selectionStart,r=a.value.substring(0,n).split("\n");return{...e,position:{x:r.length,y:r[r.length-1].length},index:n}},updateNextIndex:(e,t)=>{let{payload:a}=t;return{...e,nextIndex:a}}}}),u=m.actions,p=m.reducer,h="EDITOR",g="PARSE_TREE",E=(0,l.Z0)({name:"view",initialState:{type:h},reducers:{changeView:(e,t)=>{let{payload:a}=t;return{...e,type:a}}}}),v=E.actions,w=E.reducer,f=(0,l.Z0)({name:"parse-result",initialState:{errors:[],tree:[]},reducers:{update:(e,t)=>{let{payload:a}=t;return{...e,errors:a.errors,tree:a.parseTree}}}}),b=f.actions,C=f.reducer,y=(0,l.Z0)({name:"language",initialState:{selectedGrammar:"DEFAULT",grammars:{DEFAULT:{name:"DEFAULT",label:"",grammarDefinition:{},examples:[]}},isFetched:!1,isInitialized:!1},reducers:{setSelectedGrammar:(e,t)=>{let{payload:a}=t;return{...e,selectedGrammar:a,isInitialized:void 0!==e.grammars[a].grammarDefinition}},initializeAfterFetching:(e,t)=>{let{payload:a}=t;return{...e,selectedGrammar:Object.values(a.grammars)[0].name,grammars:a.grammars,isFetched:!0}},initializeGrammarDefinition:(e,t)=>{let{payload:{name:a,grammarDefinition:n}}=t;return{...e,grammars:{...e.grammars,[a]:{...e.grammars[a],grammarDefinition:n}},isInitialized:!0}}}}),N=y.actions,x=y.reducer,I=(0,l.Z0)({name:"examples-search",initialState:{options:{includeScore:!1,shouldSort:!0,keys:["name","code"]},phrase:"",result:[]},reducers:{setPhrase:(e,t)=>{let{payload:a}=t;return{...e,phrase:a}},setResult:(e,t)=>{let{payload:a}=t;return{...e,result:a}}}}),S=I.actions,R=I.reducer,k=(0,l.U1)({reducer:{caretData:p,editor:d,examplesSearch:R,language:x,parserResult:C,view:w}});var L=a(767),T=a(976);const A="am-editor-tooltip-GOMEV",D="am-editor-tooltip-separator-xy639",M="am-view-select-A9atI",q="am-select-option-hSIjP",O="am-selected-option-QiX9D",Z="am-select-option-content-wrapper-eEkEo",F="am-select-option-icon-wrapper-LKrUH",V="am-select-option-label-wrapper-kmVe2";var z=a(556),G=a.n(z);const H={width:G().oneOfType([G().number,G().string]),height:G().oneOfType([G().number,G().string]),testId:G().string},U=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 20 20"},n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M9 6l-4 4 4 4-1 2-6-6 6-6zm2 8l4-4-4-4 1-2 6 6-6 6z"}))};U.propTypes=H;const B=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 48 48"},n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M44,32H42V24a2,2,0,0,0-2-2H26V20h0V16h2a2,2,0,0,0,2-2V6a2,2,0,0,0-2-2H20a2,2,0,0,0-2,2v8a2,2,0,0,0,2,2h2v6H8a2,2,0,0,0-2,2v8H4a2,2,0,0,0-2,2v8a2,2,0,0,0,2,2h8a2,2,0,0,0,2-2V34a2,2,0,0,0-2-2H10V26H22v6H20a2,2,0,0,0-2,2v8a2,2,0,0,0,2,2h8a2,2,0,0,0,2-2V34a2,2,0,0,0-2-2H26V26H38v6H36a2,2,0,0,0-2,2v8a2,2,0,0,0,2,2h8a2,2,0,0,0,2-2V34A2,2,0,0,0,44,32Z"}))};B.propTypes=H;const P=()=>(0,s.d4)((e=>e.view.type)),j=()=>{const e=P(),t=(0,s.wA)(),a=(0,n.useCallback)((t=>e===t?"".concat(q," ").concat(O):q),[e]);return n.createElement("div",{className:M,"data-testid":"ti-view-select--wrapper"},n.createElement("button",{onClick:()=>t(v.changeView(h)),className:a(h),"data-testid":"ti-view-select--editor-button"},n.createElement("div",{className:Z,"data-testid":"ti-select-option--content"},n.createElement("div",{className:F,"data-testid":"ti-select-option--btn-icon-left"},n.createElement(U,null)),n.createElement("div",{className:V,"data-testid":"ti-select-option--btn-label"},"Editor"))),n.createElement("button",{onClick:()=>t(v.changeView(g)),className:a(g),"data-testid":"ti-view-select--parse-tree"},n.createElement("div",{className:Z,"data-testid":"ti-select-option--content"},n.createElement("div",{className:F,"data-testid":"ti-select-option--btn-icon-left"},n.createElement(B,null)),n.createElement("div",{className:V,"data-testid":"ti-select-option--btn-label"},"Parse Tree"))))};var W=a(526),_=a(75),J=a(281);const K=()=>({decode:e=>{let t=e;if(t.length%4!=0){const e=t.length/4,a=4*(e-Math.floor(e));for(let n=0;n<a;n++)t+="="}const a=W.bg(t),n=_.Ay.ungzip(a);return(new J.A).decode(n)},encode:e=>{const t=_.Ay.gzip(e);return W.iI(t)}}),Y="am-button-kWpRd",Q="am-button-content-wrapper-L__yF",X="am-button-label-wrapper-f9NFs",$="am-button-icon-wrapper-xMgJM",ee={LEFT:"LEFT",RIGHT:"RIGHT"},te="am-spinnerIcon-LS5X5",ae=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("div",{className:te},n.createElement("svg",{id:"loading-spinner",xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,viewBox:"0 0 48 48"},n.createElement("g",{fill:"none"},n.createElement("path",{id:"track",fill:"#C6CCD2",d:"M24,48 C10.745166,48 0,37.254834 0,24 C0,10.745166 10.745166,0 24,0 C37.254834,0 48,10.745166 48,24 C48,37.254834 37.254834,48 24,48 Z M24,44 C35.045695,44 44,35.045695 44,24 C44,12.954305 35.045695,4 24,4 C12.954305,4 4,12.954305 4,24 C4,35.045695 12.954305,44 24,44 Z"}),n.createElement("path",{id:"section",fill:"#3F4850",d:"M24,0 C37.254834,0 48,10.745166 48,24 L44,24 C44,12.954305 35.045695,4 24,4 L24,0 Z"}))))};ae.propTypes=H;const ne=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",viewBox:"0 0 16 16"},n.createElement("path",{d:"M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"}),n.createElement("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"}))};ne.propTypes=H;const re=e=>{let{label:t,icon:a,onClick:r,iconPlacement:s=ee.LEFT,isLoading:l=!1,isCopied:i=!1,testId:c="ti-button"}=e;const o=(0,n.useCallback)(((e,t)=>{if(void 0===t)return n.createElement("div",{className:Q,"data-testid":"".concat(c,"--btn-content")},n.createElement("div",{className:X,"data-testid":"".concat(c,"--btn-label")},e));switch(s){case ee.LEFT:return n.createElement("div",{className:Q,"data-testid":"".concat(c,"--btn-content")},n.createElement("div",{className:$,"data-testid":"".concat(c,"--btn-icon-left")},t),n.createElement("div",{className:X,"data-testid":"".concat(c,"--btn-label")},e));case ee.RIGHT:return n.createElement("div",{className:Q,"data-testid":"".concat(c,"--btn-content")},n.createElement("div",{className:X,"data-testid":"".concat(c,"--btn-label")},e),n.createElement("div",{className:$,"data-testid":"".concat(c,"--btn-icon-right")},t));default:return n.createElement("div",{className:Q,"data-testid":"".concat(c,"--btn-content")},n.createElement("div",{className:X,"data-testid":"".concat(c,"--btn-label")},e))}}),[s,c]),d=(0,n.useCallback)((()=>l?o("",n.createElement(ae,{testId:"ti-button-spinner-icon",width:"0.8rem",height:"0.8rem"})):i?o("Copied!",n.createElement(ne,{testId:"ti-button-copy-success-icon",width:"0.8rem",height:"0.8rem"})):o(t,a)),[l,i]);return n.createElement("button",{className:Y,onClick:r,"data-testid":c},d())};re.propTypes={label:G().string.isRequired,icon:G().element.isRequired,onClick:G().func.isRequired,iconPlacement:G().oneOf(Object.values(ee)),isLoading:G().bool,isCopied:G().bool,testId:G().string};const se=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",className:"bi bi-share-fill",viewBox:"0 0 16 16"},n.createElement("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"}))};se.propTypes=H;const le=()=>(0,s.d4)((e=>e.editor.state)),ie=()=>(0,s.d4)((e=>e.editor.value)),ce=()=>{const e=ie(),{encode:t}=K(),[a,r]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),i=(0,n.useCallback)((()=>{(async()=>{r(!0);const a=t(e),n=encodeURIComponent(a);let s=window.location.href;s.includes("code=")&&(s=s.replace(/([&?])code=[^&]*(&|$)/,"$1")),s.includes("?")?s+="&code=".concat(n):s+="?code=".concat(n);const i=await(async e=>await fetch("https://shorten.wilenskid.pl/api/shorten",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}).then((async e=>await e.json())))(s);await navigator.clipboard.writeText(i.url),r(!1),l(!0)})().catch(console.error)}),[e]);return(0,n.useEffect)((()=>{setTimeout((()=>{l(!1)}),1e3)}),[s]),n.createElement(re,{icon:n.createElement(se,{width:"0.8rem",height:"0.8rem"}),label:"Share",onClick:i,isLoading:a,isCopied:s,testId:"ti-share-button"})},oe=()=>n.createElement("div",{className:A,"data-testid":"ti-code-editor-toolbar"},n.createElement(ce,null),n.createElement("div",{className:D}),n.createElement(j,null)),de=e=>{let{condition:t,children:a}=e;return t?a:n.createElement(n.Fragment,null)};de.propTypes={condition:G().bool.isRequired,children:G().oneOfType([G().element,G().arrayOf(G().element)]).isRequired};var me=a(69),ue=a.n(me),pe=a(848);const he="am-token-VQenn",ge="am-keyword-zvuUz",Ee="am-punctuation-p8ECY",ve="am-comment-dvU9Z",we="am-string-y0ek0",fe="am-boolean-u11jF",be="am-number-IJqf8",Ce="am-custom1-qphtb",ye="am-custom2-DRHlC",Ne="am-custom3-oWhTs",xe="am-custom4-WUNZn",Ie="am-table-TFW_G",Se="am-highlight-background-mVIqJ",Re="am-highlight-line-number-background-aM8pq",ke="am-highlight-line-background-uJbe3";var Le=a(900);const Te="am-line-number-cell-Egrrr",Ae="am-code-line-RmTtI",De="am-code-line-error-RTo3L",Me=e=>{let{line:t,index:a,hasError:r}=e;return n.createElement("tr",{key:"code-line-".concat(a),className:r?De:void 0,"data-testid":r?"ti-higlights-code-line-error":"ti-higlights-code-line"},n.createElement("td",{className:Te,"data-testid":"ti-higlights-code-line--number-cell"},a+1),n.createElement("td",{className:Ae,"data-testid":"ti-higlights-code-line--code-cell"},(0,Le.Ay)(t)))};Me.propTypes={line:G().string.isRequired,index:G().number.isRequired,hasError:G().bool};const qe=G().shape({lineIndex:G().number.isRequired,charPosition:G().number.isRequired,message:G().string.isRequired}),Oe=e=>{let{parserErrors:t,highlightResult:a}=e;const[r,s]=(0,n.useState)([]),l=(0,n.useCallback)(((e,a)=>{const r=a+1,s=(null!=t?t:[]).some((e=>e.lineIndex===r));return n.createElement(Me,{key:"line-".concat(r),line:e,index:a,hasError:s})}),[t]);return(0,n.useEffect)((()=>{const e=a.map(l);s(e)}),[a]),n.createElement(n.Fragment,null,n.createElement("div",{className:Se,"data-testid":"ti-higlights--bg"},n.createElement("div",{className:Re,"data-testid":"ti-higlights--line-number-bg"}),n.createElement("div",{className:ke,"data-testid":"ti-higlights--line-bg"})),n.createElement("table",{className:Ie,"data-testid":"ti-higlights--code-table"},n.createElement("tbody",{"data-testid":"ti-higlights--code-table-body"},r)))};Oe.propTypes={parserErrors:G().arrayOf(qe).isRequired,highlightResult:G().arrayOf(G().string).isRequired};const Ze="KEYWORD",Fe="PUNCTUATION",Ve="COMMENT",ze="STRING",Ge="NUMBER",He="BOOLEAN",Ue="CUSTOM1",Be="CUSTOM2",Pe="CUSTOM3",je="CUSTOM4",We=()=>(0,s.d4)((e=>{const{selectedGrammar:t,grammars:a}=e.language;return a[t]})),_e={[Ze]:ge,[Fe]:Ee,[Ve]:ve,[ze]:we,[He]:fe,[Ge]:be,[Ue]:Ce,[Be]:ye,[Pe]:Ne,[je]:xe},Je=()=>{const[e,t]=(0,n.useState)({}),{grammarDefinition:a}=We(),r=e=>{const t=e.match(/\/(.+)\/([a-z]*)/);if(!t||t.length<3)throw new Error("Invalid regex pattern");return[t[1],t[2]]},s=e=>{if(void 0===e)return;const t=_e[e.syntaxType];let a;if(Array.isArray(e.pattern))a=e.pattern.map((e=>{const[t,a]=r(e.pattern);return{pattern:new RegExp(t,a),greedy:e.greedy,lookbehind:e.lookbehind}}));else{const[t,n]=r(e.pattern.pattern);a={pattern:new RegExp(t,n),greedy:e.pattern.greedy,lookbehind:e.pattern.lookbehind}}return[t,a]};return(0,n.useEffect)((()=>{var e;if(void 0===a)return;const n=(null!==(e=a.syntax)&&void 0!==e?e:[]).map(s).reduce(((e,t)=>{let[a,n]=t;return{...e,[a]:n}}),{});t(n)}),[a]),e},Ke=/(<span[^>]*>)((.|\n)*?)(<\/span>)/gi,Ye="am-autocomplete-modal-Z8XnQ",Qe="am-autocomplete-modal-list-r3oTv",Xe=()=>{const e=(e,t)=>{const a=e.toUpperCase(),n=t.toUpperCase();if(e.length>t.length&&a.startsWith(n))return t.length/e.length*2;const r=new Set(a),s=new Set(n),l=new Set([...r].filter((e=>s.has(e)))),i=new Set([...r,...s]);return l.size/i.size};return{getSimilarWords:(t,a)=>(null!=a?a:[]).map((a=>{return{word:n=a,accuracy:e(n,t)};var n})).sort(((e,t)=>t.accuracy-e.accuracy)).filter((e=>e.accuracy>.75))}},$e="am-autocomplete-modal-element-MSqD9",et="am-autocomplete-modal-selected-element-_x_OS",tt=e=>{let{value:t,index:a,selectedIndex:r,onOptionClick:s}=e;const l=(0,n.useCallback)((()=>r===a?et:""),[r,a]);return n.createElement("li",{className:"".concat($e," ").concat(l()),key:"autocomplete-option-".concat(a),"data-testid":"ti-autocomplete-option-".concat(a),onClick:()=>s(a)},t)};tt.propTypes={value:G().string.isRequired,index:G().number.isRequired,selectedIndex:G().number.isRequired,onOptionClick:G().func.isRequired};const at=()=>{const[e,t]=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{const e=document.getElementById("code-textarea--input");null!==e&&t(e)}),[]),e},nt=()=>(0,s.d4)((e=>e.caretData.position)),rt=()=>{const e=nt(),t=(0,s.d4)((e=>e.caretData.index)),a=ie(),{grammarDefinition:r}=We(),l=(0,s.wA)(),[i,c]=(0,n.useState)([]),[d,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(-1),[g,E]=(0,n.useState)(void 0),[v,w]=(0,n.useState)(void 0),f=Xe(),b=(()=>{const e=e=>/[\s \r\n]/.test(e);return{isWhiteSpace:e,getInputWordDataFromSelectionStart:(t,a)=>{let n="",r=a;for(let s=a-1;s>=0&&!e(t[s]);s--)n=t[s]+n,r=s;return{word:n,wordData:{startIndex:r,length:a-r}}}}})(),C=at(),y=(0,n.useRef)(null),N=(0,n.useCallback)((e=>{const t=i[e];if(void 0===t)return;let n,r=a;if(-1!==v.startIndex){const e=r.substring(0,v.startIndex),a=r.substring(v.startIndex+v.length),s=a.startsWith(" ");r=s?"".concat(e).concat(t).concat(a):"".concat(e).concat(t," ").concat(a),n=!s}l(o.setValue(r));const s=v.startIndex+t.length,c=n?s+1:s;l(u.update({selectionStart:c,value:C.value})),l(u.updateNextIndex(c)),w(void 0),h(-1),m(!1),null==C||C.focus()}),[i,a]),x=(0,n.useCallback)((()=>{const t=null==C?void 0:C.getBoundingClientRect(),{top:a,left:n}=null!=t?t:{top:0,left:0};return{top:"calc(".concat(a+20*e.x,"px + 5px)"),left:"calc(".concat(n+7.2*e.y,"px + 50px)")}}),[C,e]),I=(0,n.useCallback)((e=>{e.preventDefault(),N(p)}),[p,N]),S=(0,n.useCallback)((e=>{e.preventDefault();let t=p-1;t<0&&(t=i.length-1),h(t)}),[p,i]),R=(0,n.useCallback)((e=>{e.preventDefault();let t=p+1;t>i.length-1&&(t=0),h(t)}),[p,i]),k=(0,n.useCallback)((e=>{e.preventDefault(),m(!1),null==C||C.focus()}),[C]),L=(0,n.useCallback)((e=>{e.preventDefault(),m(0!==i.length)}),[i]),T=(0,n.useCallback)((e=>{d?("Enter"===e.key&&I(e),"ArrowUp"===e.key&&S(e),"ArrowDown"===e.key&&R(e),"Escape"===e.key&&k(e)):e.ctrlKey&&"Enter"===e.key&&L(e)}),[d,I,S,R,k,L]);return(0,n.useEffect)((()=>(document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)})),[d,T]),(0,n.useEffect)((()=>{void 0!==v&&v.length>1||(c([]),m(!1))}),[v]),(0,n.useEffect)((()=>{const{word:e,wordData:n}=b.getInputWordDataFromSelectionStart(a,t);w(n),E(e)}),[a,t]),(0,n.useEffect)((()=>{if(void 0===g||g.length<=1||void 0===v)return;const{keywords:e}=r;c([]),m(!1);const t=f.getSimilarWords(g,e).map((e=>e.word)).filter((e=>e!==g));c(t),h(0!==t.length?0:-1),m(0!==t.length)}),[r,g,v]),n.createElement("div",{hidden:!d,className:Ye,style:x(),"data-testid":"ti-autocomplete-modal"},n.createElement("ul",{className:Qe,ref:y,"data-testid":"ti-autocomplete-list"},i.map(((e,t)=>n.createElement(tt,{key:"autocomplete-option-".concat(t),index:t,value:e,selectedIndex:p,onOptionClick:N})))))},st="am-editor-wrapper-Ymw3B",lt="am-editor-Y16Lc",it="am-code-area-ALTcW",ct=()=>{const e=ie(),t=(0,s.d4)((e=>e.caretData.nextIndex)),a=(0,s.wA)(),r=(()=>{const{decode:e}=K(),[t,a]=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{const t=window.location.search,n=new URLSearchParams(t).get("code");if(null===n)return;const r=decodeURIComponent(n),s=e(r);a(s)}),[]),t})(),l=at(),{highlight:i}=(()=>{const e=(0,s.d4)((e=>e.parserResult.errors)),t=Je(),a=(e,t,a,n,r)=>a.split("\n").map((e=>"".concat(t).concat(e).concat(r))).join("\n");return{highlight:(0,n.useCallback)((r=>{const s=(0,pe.highlight)(r,t,"lang").replace(Ke,a).replaceAll('class="token','class="'.concat(he)).split("\n");return n.createElement(Oe,{highlightResult:s,parserErrors:e})}),[t,e]),grammar:t}})(),c=(0,n.useCallback)((t=>{if(void 0===l||e===t)return;const n=l.selectionStart,r=l.value;a(o.setValue(t)),a(u.update({selectionStart:n,value:r}))}),[l,e]);return(0,n.useEffect)((()=>{void 0!==r&&c(r)}),[r]),(0,n.useEffect)((()=>{-1!==t&&void 0!==l&&(l.setSelectionRange(t,t),a(u.update({selectionStart:t,value:l.value})),a(u.updateNextIndex(-1)))}),[l,t]),(0,n.useEffect)((()=>{if(void 0===l)return;const e=l.selectionStart,t=l.value;a(u.update({selectionStart:e,value:t}))}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:st,"data-testid":"ti-code-editor-wrapper"},n.createElement(ue(),{value:e,onValueChange:c,highlight:i,padding:0,textareaId:"code-textarea--input",textareaClassName:it,className:lt,autoFocus:!0})),n.createElement(rt,null))},ot="am-error-wrapper-YIaam",dt="am-error-list-L8n5M",mt="am-error-list-element-MRi26",ut="am-error-position-label-f6dDM",pt="am-error-message-YBAte",ht=e=>{let{error:t,errorIndex:a}=e;return n.createElement("li",{key:"code-error-".concat(a),className:mt,"data-testid":"ti-parsing-status-errors--errors-list-element-".concat(a),onClick:()=>{const e=document.getElementById("code-textarea--input"),a=t.lineIndex-1,n=e.value.split("\n").filter(((e,t)=>t<a)).map((e=>""!==e?e.length:1)).reduce(((e,t)=>e+t),0)+t.charPosition;e.setSelectionRange(n,n),e.focus()}},n.createElement("div",{className:ut},"error at ".concat(t.lineIndex,":").concat(t.charPosition)),n.createElement("div",{className:pt},t.message))};ht.propTypes={errorIndex:G().number.isRequired,error:qe.isRequired};const gt=()=>(0,s.d4)((e=>e.parserResult.errors)),Et=()=>{const e=gt(),[t,a]=(0,n.useState)([]);return(0,n.useEffect)((()=>{const t=e.map(((e,t)=>n.createElement(ht,{key:"code-error-".concat(t+(new Date).getUTCDate()),errorIndex:t,error:e})));a(t)}),[e]),n.createElement("div",{className:ot,"data-testid":"ti-parsing-status-errors--wrapper"},n.createElement("ul",{className:dt,"data-testid":"ti-parsing-status-errors--errors-list"},t))};var vt=a(993);const wt="am-parse-tree-view-hI0iK",ft="am-parse-tree-wRs7X",bt="am-parse-tree-loading-wrapper-hMVbU",Ct="NORMAL",yt="TERMINAL",Nt=G().shape({type:G().oneOf([yt]).isRequired,symbolName:G().string.isRequired,symbolValue:G().string.isRequired}),xt=G().shape({type:G().oneOf([Ct]).isRequired,ruleName:G().string.isRequired,ruleChildren:G().arrayOf(G().object).isRequired}),It=G().oneOfType([Nt,xt]),St=e=>{const[t,a]=(0,n.useState)(!1),[r,s]=(0,n.useState)({nodes:[],edges:[]});return(0,n.useEffect)((()=>{const t=[],n=[];0!==(null==e?void 0:e.length)?(a(!0),((e,t,a)=>{const n=[];for(n.push({treeNodes:a,level:0});n.length>0;){const a=n.pop();if(void 0===a)break;const{treeNodes:r,level:s,parent:l}=a;for(const i of r){const a=e.length;if(i.type===yt){if(void 0===l)continue;const t={id:a,label:"(terminal)\n".concat(i.symbolText),level:s,color:"#2270ff"};e.push(t)}if(i.type===Ct){const t={id:a,label:"(non-terminal)\n".concat(i.ruleName),level:s,color:"#00b69d"};e.push(t),n.push({treeNodes:i.ruleChildren,level:s+1,parent:t})}if(void 0!==l){const e={from:l.id,to:a};t.push(e)}}}})(t,n,e),s({nodes:t,edges:n}),a(!1)):s({nodes:t,edges:n})}),[e]),{isConverting:t,convertResult:r}};St.propTypes=G().arrayOf(It);const Rt={autoResize:!0,nodes:{shape:"box",borderWidth:.5,font:{multi:"html",face:"'JetBrains Mono', monospace",color:"#FFF"},shapeProperties:{borderRadius:0},physics:!1},edges:{physics:!1},layout:{improvedLayout:!0,clusterThreshold:150,hierarchical:{direction:"UD",nodeSpacing:150,parentCentralization:!1}},interaction:{dragNodes:!1,selectable:!1},manipulation:{enabled:!1}},kt=()=>{const e=le(),t=(0,s.d4)((e=>e.parserResult.tree)),a=(0,n.useRef)(null),r=(0,n.useRef)(null),{isConverting:l,convertResult:c}=St(t);return(0,n.useEffect)((()=>{var e,t,n;if(null===a.current)return;null===(e=r.current)||void 0===e||e.destroy();const s=a.current,{nodes:l,edges:i}=c;return r.current=new vt.Network(s,{nodes:l,edges:i},Rt),null===(t=r.current)||void 0===t||t.fit(),null===(n=r.current)||void 0===n||n.redraw(),()=>{var e;null===(e=r.current)||void 0===e||e.destroy(),r.current=null}}),[e,c]),n.createElement("div",{className:ft},n.createElement("div",{className:bt,style:{display:e!==i.IDLE||l?"inherit":"none"}},n.createElement(ae,{testId:"ti-loading-parse-tree",width:"64",height:"64"})),n.createElement("div",{ref:a,className:wt,"data-testid":"ti-parse-tree--container",style:{display:e!==i.IDLE||l?"none":"inherit"}}))},Lt="am-status-bar-jqQyf",Tt="am-status-bar-separator-O02WF",At="am-caret-data-wrapper-Zmo2g",Dt=e=>{let{position:t={x:0,y:0}}=e;return n.createElement("div",{className:At,"data-testid":"ti-caret-data"},t.x,":",t.y)};Dt.propTypes={position:G().shape({x:G().number,y:G().number})};const Mt=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16"},n.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}))};Mt.propTypes=H;const qt=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",viewBox:"0 0 16 16"},n.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"}))};qt.propTypes=H;const Ot="am-parse-state-label-PjVmu",Zt="am-parse-state-label-success-mk7Fr",Ft="am-parse-state-label-error-ui4J5",Vt="am-parsing-label-hOloT",zt="am-no-errors-label-KRMAi",Gt="am-found-errors-label-aU2uz",Ht=12,Ut=e=>{let{parseState:t,parseErrors:a}=e;return n.createElement("span",{className:"".concat(Ot," ").concat(t===i.IDLE&&0===a.length?Zt:t===i.IDLE&&0!==a.length?Ft:""),"data-testid":"ti-parsing-state"},n.createElement(de,{condition:t===i.INITIALIZING},n.createElement(ae,{width:Ht,height:Ht}),n.createElement("span",{className:Vt,"data-testid":"ti-parsing-status--label-init"},"Initializing...")),n.createElement(de,{condition:t===i.PARSING},n.createElement(ae,{width:Ht,height:Ht}),n.createElement("span",{className:Vt,"data-testid":"ti-parsing-status--label-parsing"},"Parsing...")),n.createElement(de,{condition:t===i.IDLE&&0===a.length},n.createElement(Mt,{width:Ht,height:Ht}),n.createElement("span",{className:zt,"data-testid":"ti-parsing-status--label-no-errors"},"No errors!")),n.createElement(de,{condition:t===i.IDLE&&0!==a.length},n.createElement(qt,{width:Ht,height:Ht}),n.createElement("span",{className:Gt,"data-testid":"ti-parsing-status--label-errors"},"Found '".concat(a.length,"' parser errors"))))};Ut.propTypes={parseErrors:G().arrayOf(qe),parseState:G().oneOf(Object.values(i))};const Bt=()=>{const e=gt(),t=le(),a=nt();return n.createElement("div",{className:Lt,"data-testid":"ti-status-bar"},n.createElement(Ut,{parseErrors:e,parseState:t}),n.createElement("div",{className:Tt}),n.createElement(Dt,{position:a}))},Pt="am-editor-page-F0rfZ",jt="am-app-container-ObC7o",Wt="am-sidebar-UGfjQ",_t="am-sidebar-menu-V1R1D",Jt="am-sidebar-menu-item-mKvCJ",Kt="am-sidebar-menu-item-selected-Eu_ms",Yt="am-sidebar-menu-item-label-OO_9n",Qt=e=>{let{path:t,icon:a,label:r,testId:s}=e;const l=(0,L.zy)(),i=(0,L.Zp)(),[c,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{o(l.pathname===t)}),[l,t]),n.createElement("li",{className:"".concat(Jt," ").concat(c?Kt:""),onClick:e=>{i(t),e.preventDefault()},"data-testid":s},a,n.createElement("div",{className:Yt},r))};Qt.propTypes={path:G().string.isRequired,icon:G().element.isRequired,label:G().string.isRequired,testId:G().string.isRequired};const Xt=e=>{let{width:t=16,height:a=16,testId:r="ti-icon"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 20 20"},n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M2 3h16v2H2V3zm0 4h16v2H2V7zm0 4h16v2H2v-2zm0 4h16v2H2v-2z"}))};Xt.propTypes=H;const $t=()=>n.createElement("ul",{className:_t,"data-testid":"ti-sidebar-menu"},n.createElement(Qt,{path:"/",label:"Editor",icon:n.createElement(U,null),testId:"ti-editor-page-button"}),n.createElement(Qt,{path:"/examples",label:"Examples",icon:n.createElement(Xt,null),testId:"ti-examples-page-button"})),ea="am-versions-wrapper-EujUG",ta="am-version-element-yEC52",aa="am-version-element-label-pJean",na="am-version-element-version-GwnnE",ra=()=>n.createElement("div",{className:ea,"data-testid":"ti-versions"},n.createElement("div",{className:ta},n.createElement("div",{className:aa},"App Version"),n.createElement("div",{className:na,"data-testid":"ti-editor-version-label"},"v1.1.0")),n.createElement("div",{className:ta},n.createElement("div",{className:aa},"Grammar Version"),n.createElement("div",{className:na,"data-testid":"ti-grammar-version-label"},"v1.3.1"))),sa="am-switch-container-fKKDI",la="am-switch-A6azo",ia="am-slider-wrvGu",ca="am-icon-FsXQ9",oa="am-sun-S8iHh",da="am-moon-BHkGp",ma="am-sun-icon-F9ABE",ua="am-moon-icon-VCD0U",pa=e=>{let{width:t=16,height:a=16,testId:r="ti-icon",className:s}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,className:s,fill:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z"}),n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C12.4142 1.25 12.75 1.58579 12.75 2V4C12.75 4.41421 12.4142 4.75 12 4.75C11.5858 4.75 11.25 4.41421 11.25 4V2C11.25 1.58579 11.5858 1.25 12 1.25ZM3.66865 3.71609C3.94815 3.41039 4.42255 3.38915 4.72825 3.66865L6.95026 5.70024C7.25596 5.97974 7.2772 6.45413 6.9977 6.75983C6.7182 7.06553 6.2438 7.08677 5.9381 6.80727L3.71609 4.77569C3.41039 4.49619 3.38915 4.02179 3.66865 3.71609ZM20.3314 3.71609C20.6109 4.02179 20.5896 4.49619 20.2839 4.77569L18.0619 6.80727C17.7562 7.08677 17.2818 7.06553 17.0023 6.75983C16.7228 6.45413 16.744 5.97974 17.0497 5.70024L19.2718 3.66865C19.5775 3.38915 20.0518 3.41039 20.3314 3.71609ZM1.25 12C1.25 11.5858 1.58579 11.25 2 11.25H4C4.41421 11.25 4.75 11.5858 4.75 12C4.75 12.4142 4.41421 12.75 4 12.75H2C1.58579 12.75 1.25 12.4142 1.25 12ZM19.25 12C19.25 11.5858 19.5858 11.25 20 11.25H22C22.4142 11.25 22.75 11.5858 22.75 12C22.75 12.4142 22.4142 12.75 22 12.75H20C19.5858 12.75 19.25 12.4142 19.25 12ZM17.0255 17.0252C17.3184 16.7323 17.7933 16.7323 18.0862 17.0252L20.3082 19.2475C20.6011 19.5404 20.601 20.0153 20.3081 20.3082C20.0152 20.6011 19.5403 20.601 19.2475 20.3081L17.0255 18.0858C16.7326 17.7929 16.7326 17.3181 17.0255 17.0252ZM6.97467 17.0253C7.26756 17.3182 7.26756 17.7931 6.97467 18.086L4.75244 20.3082C4.45955 20.6011 3.98468 20.6011 3.69178 20.3082C3.39889 20.0153 3.39889 19.5404 3.69178 19.2476L5.91401 17.0253C6.2069 16.7324 6.68177 16.7324 6.97467 17.0253ZM12 19.25C12.4142 19.25 12.75 19.5858 12.75 20V22C12.75 22.4142 12.4142 22.75 12 22.75C11.5858 22.75 11.25 22.4142 11.25 22V20C11.25 19.5858 11.5858 19.25 12 19.25Z"}))};pa.propTypes={...H,className:G().string};const ha=e=>{let{width:t=16,height:a=16,testId:r="ti-icon",className:s}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:a,"data-testid":r,className:s,viewBox:"0 0 24 24"},n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M19.9001 2.30719C19.7392 1.8976 19.1616 1.8976 19.0007 2.30719L18.5703 3.40247C18.5212 3.52752 18.4226 3.62651 18.298 3.67583L17.2067 4.1078C16.7986 4.26934 16.7986 4.849 17.2067 5.01054L18.298 5.44252C18.4226 5.49184 18.5212 5.59082 18.5703 5.71587L19.0007 6.81115C19.1616 7.22074 19.7392 7.22074 19.9001 6.81116L20.3305 5.71587C20.3796 5.59082 20.4782 5.49184 20.6028 5.44252L21.6941 5.01054C22.1022 4.849 22.1022 4.26934 21.6941 4.1078L20.6028 3.67583C20.4782 3.62651 20.3796 3.52752 20.3305 3.40247L19.9001 2.30719Z"}),n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M16.0328 8.12967C15.8718 7.72009 15.2943 7.72009 15.1333 8.12967L14.9764 8.52902C14.9273 8.65407 14.8287 8.75305 14.7041 8.80237L14.3062 8.95987C13.8981 9.12141 13.8981 9.70107 14.3062 9.86261L14.7041 10.0201C14.8287 10.0694 14.9273 10.1684 14.9764 10.2935L15.1333 10.6928C15.2943 11.1024 15.8718 11.1024 16.0328 10.6928L16.1897 10.2935C16.2388 10.1684 16.3374 10.0694 16.462 10.0201L16.8599 9.86261C17.268 9.70107 17.268 9.12141 16.8599 8.95987L16.462 8.80237C16.3374 8.75305 16.2388 8.65407 16.1897 8.52902L16.0328 8.12967Z"}),n.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"}))};ha.propTypes={...H,className:G().string};const ga=()=>{const[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)");if(null!==e)return t("true"===e),void r(!0);a.matches&&t(!0);const n=e=>t(e.matches);return a.addEventListener("change",n),r(!0),()=>{a.removeEventListener("change",n)}}),[]),(0,n.useEffect)((()=>{a&&(document.querySelector(":root").dataset.theme=e?"dark":void 0,localStorage.setItem("theme","".concat(e)))}),[e]),n.createElement("div",{className:sa},n.createElement("label",{className:la},n.createElement("input",{type:"checkbox",id:"mode-switch",checked:e,onChange:()=>{t((e=>!e))}}),n.createElement("span",{className:ia}),n.createElement("div",{className:"".concat(ca," ").concat(oa)},n.createElement(pa,{className:ma,width:"20px",height:"20px"})),n.createElement("div",{className:"".concat(ca," ").concat(da)},n.createElement(ha,{className:ua,width:"20px",height:"20px"}))))},Ea=()=>n.createElement("div",{className:Wt,"data-testid":"ti-sidebar"},n.createElement($t,null),n.createElement("div",{style:{flex:1}}),n.createElement(ga,null),n.createElement(ra,null)),va="am-main-content-sUodn",wa=e=>{let{children:t}=e;if(void 0===t)throw new Error("MainContent element needs to have children element.");return n.createElement("div",{className:va,"data-testid":"ti-main-content"},t)};wa.propTypes={children:G().element.isRequired};const fa=e=>{let{children:t}=e;return n.createElement("div",{className:jt,"data-testid":"app-container"},n.createElement(Ea,null),n.createElement(wa,null,t))};fa.propTypes={children:G().element.isRequired};const ba=()=>{const e=P(),t=(0,s.wA)();return(0,n.useEffect)((()=>{if(e===g)return;const a=document.getElementById("code-textarea--input");if(null===a)return;const n=a.selectionStart,r=a.value,s=()=>t(u.update({selectionStart:n,value:r}));return a.addEventListener("click",s),a.addEventListener("contextmenu",s),a.addEventListener("keypress",s),()=>{a.removeEventListener("click",s),a.removeEventListener("contextmenu",s),a.removeEventListener("keypress",s)}}),[e]),n.createElement(fa,null,n.createElement("div",{className:Pt,"data-testid":"ti-code-editor-column"},n.createElement(oe,null),n.createElement(de,{condition:e===h},n.createElement(n.Fragment,null,n.createElement(ct,null),n.createElement(Bt,null),n.createElement(Et,null))),n.createElement(de,{condition:e===g},n.createElement(kt,null))))},Ca="am-examples-list-Iwcro",ya="am-example-ZrJn0",Na="am-example-header-bdOv7",xa="am-examples-loading-wrapper-KznpI",Ia="am-example-code-YoAeB",Sa=G().shape({name:G().string.isRequired,code:G().string.isRequired}),Ra=/(<span[^>]*>)((.|\n)*?)(<\/span>)/gi,ka=e=>{let{example:t,grammar:a}=e;const r=(e,t)=>n.createElement("tr",{key:"example-code-line-".concat(t),"data-testid":"ti-code-line-".concat(t)},n.createElement("td",{className:Te},t+1),n.createElement("td",{className:Ae},(0,Le.Ay)(e))),s=(e,t,a,n,r)=>a.split("\n").map((e=>"".concat(t).concat(e).concat(r))).join("\n");return n.createElement("pre",{className:Ia,"data-testid":"ti-examples-list-item--code"},n.createElement("div",{className:Se},n.createElement("div",{className:Re}),n.createElement("div",{className:ke})),n.createElement("table",{className:Ie},n.createElement("tbody",{"data-testid":"ti-code-lines"},(l=t.code.trim(),(0,pe.highlight)(l,a,"gql").replace(Ra,s).split("\n").map(r)))));var l};ka.propTypes={example:Sa.isRequired,grammar:G().object.isRequired};const La=e=>{let{example:t,grammar:a,onShowInEditorClick:r}=e;return n.createElement("li",{className:ya,onClick:()=>r(t),"data-testid":"ti-examples-list-item"},n.createElement("div",{className:Na,"data-testid":"ti-examples-list-item--title"},t.name),n.createElement(ka,{example:t,grammar:a}))};La.propTypes={example:Sa.isRequired,grammar:G().object.isRequired,onShowInEditorClick:G().func.isRequired};const Ta=()=>{const e=(0,s.d4)((e=>{var t;return null!==(t=e.examplesSearch.result)&&void 0!==t?t:[]})),t=le(),a=(0,s.wA)(),r=(0,L.Zp)(),l=Je(),c=(0,n.useCallback)((e=>{window.scrollTo(0,0),a(o.setValue(e.code)),r("/")}),[r]);return n.createElement(n.Fragment,null,n.createElement(de,{condition:t===i.INITIALIZING},n.createElement("div",{className:xa,"data-testid":"ti-loading-examples-wrapper"},n.createElement(ae,{testId:"ti-loading-examples",width:"64",height:"64"}))),n.createElement(de,{condition:t!==i.INITIALIZING},n.createElement("ul",{className:Ca,"data-testid":"ti-examples-list"},e.map(((e,t)=>n.createElement(La,{key:"example-".concat(t+1),example:e,grammar:l,onShowInEditorClick:e=>c(e)}))))))},Aa="am-examples-search-A4hlR";var Da=a(929);const Ma=()=>{const{examples:e}=We(),t=(0,s.d4)((e=>e.examplesSearch.options)),a=(0,s.d4)((e=>e.examplesSearch.phrase)),r=(0,s.wA)(),[l,i]=(0,n.useState)(new Da.A([],t)),c=(0,n.useCallback)((e=>l.search(e).map((e=>e.item))),[l]);return(0,n.useEffect)((()=>{i(new Da.A(e,t)),r(""!==a?S.setResult(c(a)):S.setResult(e))}),[e,a,t]),n.createElement("input",{type:"text",className:Aa,placeholder:"Search...",onChange:e=>r(S.setPhrase(e.target.value)),"data-testid":"ti-examples-search-input"})},qa="am-examples-page-wrapper-I_fAW",Oa=()=>n.createElement(fa,null,n.createElement("div",{className:qa},n.createElement(Ma,null),n.createElement(Ta,null)));var Za=a(543);const Fa=()=>{const e=(0,s.d4)((e=>e.editor.value)),t=(0,s.d4)((e=>e.language.isFetched)),a=(0,s.d4)((e=>e.language.isInitialized)),r=(0,s.d4)((e=>e.language.selectedGrammar)),l=(0,s.wA)(),c=(0,n.useRef)(null),d=e=>{let{data:t}=e;if(!(0,Za.isArray)(t))return;const a=t.reduce(((e,t)=>({...e,[t.name]:t})),{});l(N.initializeAfterFetching({grammars:a})),l(o.setState(i.IDLE))},m=e=>{let{data:t}=e;if("errors"in t||"tree"in t)return;const{name:a,grammarDefinition:n}=t;l(N.initializeGrammarDefinition({name:a,grammarDefinition:n})),l(o.setState(i.IDLE))},u=e=>{let{data:t}=e;"grammarDefinition"in t||"examples"in t||(console.log(t),l(b.update(t)),l(o.setState(i.IDLE)))};(0,n.useEffect)((()=>{if(!t)return null!==c.current&&(c.current.terminate(),c.current=null),l(o.setState(i.FETCHING)),c.current=new Worker("./js/main.worker.bundle.js"),c.current.postMessage({type:"fetch-grammars"}),c.current.onmessage=d,()=>{null!==c.current&&c.current.terminate()}}),[]),(0,n.useEffect)((()=>{null!==c.current&&t&&!a&&(l(o.setState(i.INITIALIZING)),c.current.postMessage({type:"initialize",payload:{selectedGrammar:r}}),c.current.onmessage=m)}),[r,t,a]),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const[r,s]=(0,n.useState)((()=>{})),l=(0,n.useRef)(void 0);Array.isArray(a)&&(0,n.useEffect)((()=>(l.current=setTimeout((()=>{"function"==typeof r&&r();const t=e();s("function"==typeof t?t:void 0)}),t),()=>clearTimeout(l.current))),[e,t,...a])}((()=>{null!==c.current&&t&&a&&(l(o.setState(i.PARSING)),c.current.postMessage({type:"parse",payload:{selectedGrammar:r,text:e}}),c.current.onmessage=u)}),500,[r,e,t,a])},Va=(0,L.bg)([{path:"/",element:n.createElement(ba,null)},{path:"/examples",element:n.createElement(Oa,null)}]),za=document.getElementById("root");if(null===za)throw new Error("Element with id='root' not found!");const Ga=()=>(Fa(),n.createElement(T.pg,{router:Va}));(0,r.H)(za).render(n.createElement(n.StrictMode,null,n.createElement(s.Kq,{store:k},n.createElement(Ga,null))))}},e=>{e.O(0,[644,278,543,75,556,210,981,38,588,893,518,107,993],(()=>{return t=168,e(e.s=t);var t}));e.O()}]);